(*
  Copyright Florian Hatat, Tom Hirschowitz, Pierre Hyvernat,
  Pierre-Etienne Meunier, Christophe Raffalli, Guillaume Theyssier 2012.

  This file is part of Patoline.

  Patoline is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  Patoline is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with Patoline.  If not, see <http://www.gnu.org/licenses/>.
*)

(* #GRAMMAR *)

==========================================
  Mathematical symbols
------------------------------------------
  Pierre-Ã‰tienne Meunier, Tom Hirschowitz,
  Christophe Raffalli, â€¦
==========================================

\Caml(open DefaultFormat)

\Verbose_Changes

=> Delimiters 

\Add_left{ ( }(List.map (MathFonts.asana "(") [10;3346;3347;3348])
\Add_right{ ) }(List.map (MathFonts.asana ")") [11;3349;3350;3351])
\Add_left{ \{ }(List.map (MathFonts.asana "{") [93;3352;3353;3354])
\Add_right{ \} }(List.map (MathFonts.asana "}") [95;3355;3356;3357])
\Add_left{ [ }(List.map (MathFonts.asana "[") [61;3340;3341;3342])
\Add_right{ ] }(List.map (MathFonts.asana "]") [63;3343;3344;3345])
\Add_left{ \langle < âŒ©}(List.map2
				     (fun g g' -> vkern_as (MathFonts.euler "\\left_angle" g)
				          (MathFonts.asana "[" g'))
				      [1803;1807;1809;1811(*;1813*)][10;3346;3347;3348])
\Add_right{ \rangle > âŒª}(List.map2
				     (fun g g' -> vkern_as (MathFonts.euler "\\left_angle" g)
				          (MathFonts.asana "[" g'))
				       [1804;1808;1810;1812(*;1814*)] [11;3349;3350;3351])
\Add_left{ \labs | }(List.map (MathFonts.asana "|") [749;3316;3317;3318;3319])
\Add_right{ \rabs | }(List.map (MathFonts.asana "|") [749;3316;3317;3318;3319])
\Add_left{ || }(List.map (MathFonts.asana "\\left_double_bar") [385;3308;3309;3310;3311])
\Add_right{ || }(List.map (MathFonts.asana "\\right_double_bar") [385;3308;3309;3310;3311])
\Add_left{\lceil âŒˆ}(List.map (MathFonts.asana "\\left_ceiling") [974;3328;3329;3330])
\Add_right{\rceil âŒ‰}(List.map (MathFonts.asana "\\right_ceiling") [975;3331;3332;3333])
\Add_left{\lfloor âŒŠ}(List.map (MathFonts.asana "\\left_floor") [976;3334;3335;3336])
\Add_right{\rfloor âŒ‹}(List.map (MathFonts.asana "\\right_floor") [977;3337;3338;3339])
\Add_left{\left_white_square_bracket \llbracket âŸ¦} (List.map2
				     (fun g g' -> vkern_as (MathFonts.asana "\\left_white_square_bracket" g)
				          (MathFonts.asana "[" g'))
				      [3320;3321;3322;3323] [61;3340;3341;3342])
\Add_right{\right_white_square_bracket \rrbracket âŸ§} (List.map2
				     (fun g g' -> vkern_as (MathFonts.asana "\\left_white_square_bracket" g)
				          (MathFonts.asana "[" g'))
				      [3324;3325;3326;3327] [63;3343;3344;3345] )
\Add_left{\orig_left_white_square_bracket} (List.map (MathFonts.asana "\\left_white_square_bracket")
					   [3320;3321;3322;3323])
\Add_right{\orig_right_white_square_bracket} (List.map (MathFonts.asana "\\right_white_square_bracket")
				      [3324;3325;3326;3327])
\Add_left{ âŒœ \ulcorner}( [MathFonts.asana "ulcorner" 980] )
\Add_right{ âŒ \urcorner}( [MathFonts.asana "urcorner" 981] )


=<

=> Relation symbols 

\Add_relation{\eq =}{=}
\Add_relation{\neq â‰  /=}{â‰ }
\Add_relation{\st \|}{|}
\Add_relation{:}{:}
\Add_relation{\in âˆˆ}{âˆˆ}
\Add_relation{\notin âˆ‰}{âˆ‰}
\Add_relation{\ni âˆ‹}{âˆ‹}
\Add_relation{\notni âˆŒ}{âˆŒ}
\Add_relation{\subseteq âŠ†}{âŠ†}
\Add_relation{\supseteq âŠ‡}{âŠ‡}
\Add_relation{\nosubseteq âŠˆ}{âŠˆ}
\Add_relation{\nosupseteq âŠ‰}{âŠ‰}
\Add_relation{\subset âŠ‚}{âŠ‚}
\Add_relation{\supset âŠƒ}{âŠƒ}
\Add_relation{\notsubset âŠ„}{âŠ„}
\Add_relation{\notsupset âŠ…}{âŠ…}
\Add_relation{\subsetneq âŠŠ}{âŠŠ}
\Add_relation{\supsetneq âŠ‹}{âŠ‹}
\Add_relation{\squaresub âŠ}(MathFonts.asana "âŠ" 857)
\Add_relation{\squaresup âŠ}(MathFonts.asana "âŠ" 858)
\Add_relation{\squaresubeq âŠ‘}{âŠ‘}
\Add_relation{\squaresupeq âŠ’}{âŠ’}
\Add_relation{\squaresubnoteq â‹¤}(MathFonts.asana "â‹¤" 942)
\Add_relation{\squaresupnoteq â‹¥}(MathFonts.asana "â‹¥" 943)
\Add_relation{\identical \equiv â‰¡}{â‰¡}
\Add_relation{\notidentical â‰¢}{â‰¢}
\Add_relation{\almostequal â‰ˆ}{â‰ˆ}
\Add_relation{â‰… \cong \iso}{â‰…}
\Add_relation{â‰ƒ \simeq \equi}{â‰ƒ}
\Add_relation{\notalmostequal â‰‰}{â‰‰}
\Add_relation{âˆ¼ \sim}{âˆ¼}


\Add_relation{\pitchfork â‹”}(MathFonts.asana "pitchfork" 1609)

\Add_relation{\leq <= â‰¤}{â‰¤}
\Add_relation{\geq >= â‰¥}{â‰¥}
\Add_relation{\lt <}{<}
\Add_relation{\gt >}{>}
\Add_relation{\eqdef =:}(MathFonts.asana "\\eqdef" 799)
\Add_relation{\defeq :=}(MathFonts.asana "\\defeq" 798)


\Add_relation{\succ â‰»}(MathFonts.asana "\\succ" 837)
\Add_relation{\pred â‰º}(MathFonts.asana "\\pred" 836)
\Add_relation{\succeq â‰½}(MathFonts.asana "\\succeq" 839)
\Add_relation{\predeq â‰¼}(MathFonts.asana "\\predeq" 838)
\Add_relation{\unlhd âŠ´}(MathFonts.asana "\\unlhd" 894)
\Add_relation{\unrhd âŠµ}(MathFonts.asana "\\unrhd" 895)

\Add_relation{\realize \force âŠ©}(MathFonts.asana "âŠ©" 1620)
\Add_relation{\vdash âŠ¢ |-}{âŠ¢}

=<
=> Addition like symbols 

\Add_addition_like{+}{+}
\Add_addition_like{\oplus âŠ•}{âŠ•}
\Add_addition_like{\ominus âŠ–}{âŠ–}
\Add_addition_like{-}{-}
\Add_addition_like{\pm}{Â±}
\Add_addition_like{\mp}{âˆ“}
\Add_addition_like{\union \cup âˆª}{âˆª}
\Add_addition_like{\inter \cap âˆ©}{âˆ©}
\Add_addition_like{\squareunion \squarecup âŠ“}(MathFonts.asana "âŠ“" 861)
\Add_addition_like{\squareinter \sqaurecap âŠ”}(MathFonts.asana "âŠ”" 862)

\Add_addition_like{\mod}( fun env st->(Maths.glyphs "mod" (Maths.change_fonts env env.font) st) )
\Add_addition_like{\vee âˆ¨}(MathFonts.asana "âˆ¨" 754)
\Add_addition_like{\setminus âˆ–}{âˆ–}
\Add_addition_like{\uplus âŠ}{âŠ}

=<

=> Product like symbols 

\Add_product_like{\dot \cdot â‹… Â·}{â‹…}
\Add_product_like{\diamond â‹„}{â‹„}
\Add_product_like{\times Ã—}{Ã—}
\Add_product_like{\over}{over} (* Donne une barre de fraction *)
\Add_product_like{/}{/}
\Add_product_like{\divide Ã·}{Ã·}
\Add_product_like{\otimes âŠ—}{âŠ—}
\Add_product_like{\odot âŠ™}{âŠ™}
\Add_product_like{\bullet âˆ™}{âˆ™}
\Add_product_like{\circ âˆ˜}{âˆ˜}
\Add_product_like{\wedge \gcd âˆ§}(MathFonts.asana "âˆ§" 753)
\Add_product_like{\star âˆ—}{âˆ—}
\Add_product_like{\seq}{;}
\Add_product_like{\para}{|}

=<

=> Connector symbols 

\Add_connector{\land &&}(MathFonts.asana "âˆ§" 753)
\Add_connector{\restriction â†¾}(MathFonts.euler "â†¾" 248)
\Add_connector{\lor}(MathFonts.asana "âˆ¨" 754)

=<

=> Arrow symbols 
(* Euler doesn't seem to have all the arrows we might want.
Wouldn't it be better to take all arrows from Asana-Math??? *)

\Add_arrow{=> \Imply \Rightarrow â‡’}{â‡’}
\Add_arrow{-> \imply \rightarrow â†’}{â†’}
\Add_arrow{\ImpliedBy \Leftarrow â‡}{â‡}
\Add_arrow{<- \impliedBy \leftarrow â†}{â†}
\Add_arrow{<=> \Equiv \Leftrightarrow â‡”}{â‡”}
\Add_arrow{<-> \equiv \leftrightarrow â†”}{â†”}
\Add_arrow{|-> \mapsto â†¦}(MathFonts.euler "â†¦" 243)
\Add_arrow{<-| \mapsfrom â†¤}{â†¤}
\Add_arrow{\epi ->> â† }(MathFonts.asana "â† " 618)
\Add_arrow{\mono >-> â†£}(MathFonts.asana "â†£" 621)
\Add_arrow{\hookrightarrow \inj â†ª}(MathFonts.euler "â†ª" 245)
\Add_arrow{\hookleftarrow \jni â†©}(MathFonts.euler "â†©" 244)
\Add_arrow{\ulharpoon â†¼}{â†¼}
\Add_arrow{\urharpoon â‡€}{â‡€}
\Add_arrow{\dlharpoon â†½}{â†½}
\Add_arrow{\drharpoon â‡}{â‡}
\Add_arrow{\tostar}{â†’*}
\Add_arrow{â†› \nrightarrow}(MathFonts.asana "â†›" 613)
\Add_arrow{\leadsto â†}(MathFonts.asana "â†" 615)


=<

=> Punctuation symbols 

\Add_punctuation{,}{,}
\Add_punctuation{;}{;}
\Add_punctuation{.}{.}

=<

=> Prefix symbols 

\Add_prefix{+}{+}
\Add_prefix{-}{-}
\Add_prefix{\vdash âŠ¢ |-}{âŠ¢}
\Add_relation{âŠ£ \dashv}{âŠ£}
\Add_prefix{â†‘}{â†‘}
\Add_prefix{\bar}{|}
\Add_prefix{\lnot \neg Â¬}{Â¬}

=<

=> Quantifiers 

\Add_quantifier{\forall âˆ€}{âˆ€}
\Add_quantifier{\exists âˆƒ}{âˆƒ}

=<

=> Postfix and accent symbols 

\Add_postfix{!}{!}
\Add_postfix{* \words}{*}
\Add_accent{'}{'}


=<

=> Lowercase Greek letters 

\Add_symbol{\alpha Î±}{Î±}
\Add_symbol{\beta Î²}{Î²}
\Add_symbol{\gamma Î³}{Î³}
\Add_symbol{\delta Î´}{Î´}
\Add_symbol{\epsilon Ïµ}{Ïµ}
\Add_symbol{\varepsilon Îµ}{Îµ}
\Add_symbol{\zeta Î¶}{Î¶}
\Add_symbol{\eta Î·}{Î·}
\Add_symbol{\theta Î¸}{Î¸}
\Add_symbol{\iota Î¹}{Î¹}
\Add_symbol{\kappa Îº}{Îº}
\Add_symbol{\lambda Î»}{Î»}
\Add_symbol{\mu Î¼}{Î¼}
\Add_symbol{\nu Î½}{Î½}
\Add_symbol{\xi Î¾}{Î¾}
\Add_symbol{\omicron Î¿}{Î¿}
\Add_symbol{\pi Ï€}{Ï€}
\Add_symbol{\rho Ï}{Ï}
\Add_symbol{\sigma Ïƒ}{Ïƒ}
(*\Add_symbol{\varsigma Ï‚}{Ï‚}*)
\Add_symbol{\tau Ï„}{Ï„}
\Add_symbol{\upsilon Ï…}{Ï…}
\Add_symbol{\phi Ï†}{Ï†}
\Add_symbol{\varphi Ï•}{Ï•}
\Add_symbol{\chi Ï‡}{Ï‡}
\Add_symbol{\psi Ïˆ}{Ïˆ}
\Add_symbol{\omega Ï‰}{Ï‰}

=<

=> Uppercase Greek letters 

\Add_symbol{\Alpha Î‘}{Î‘}
\Add_symbol{\Beta Î’}{Î’}
\Add_symbol{\Gamma Î“}{Î“}
\Add_symbol{\Delta Î”}{Î”}
\Add_symbol{\Epsilon Î•}{Î•}
\Add_symbol{\Zeta Î–}{Î–}
\Add_symbol{\Eta Î—}{Î—}
\Add_symbol{\Theta Î˜}{Î˜}
\Add_symbol{\Iota Î™}{Î™}
\Add_symbol{\Kappa Îš}{Îš}
\Add_symbol{\Lambda Î›}{Î›}
\Add_symbol{\Mu Îœ}{Îœ}
\Add_symbol{\Nu Î}{Î}
\Add_symbol{\Xi Î}{Î}
\Add_symbol{\Omicron ÎŸ}{ÎŸ}
\Add_symbol{\Pi Î }{Î }
\Add_symbol{\Rho Î¡}{Î¡}
\Add_symbol{\Sigma Î£}{Î£}
\Add_symbol{\Tau Î¤}{Î¤}
\Add_symbol{\Upsilon Î¥}{Î¥}
\Add_symbol{\Phi Î¦}{Î¦}
\Add_symbol{\Chi Î§}{Î§}
\Add_symbol{\Psi Î¨}{Î¨}
\Add_symbol{\Omega Î©}{Î©}

(*
\Add_symbol{\}{}
*)
=<

=> Gothic letters

\Add_symbol{\frakA ğ”„}(MathFonts.euler "ğ”„" 518)
\Add_symbol{\frakB ğ”…}(MathFonts.euler "ğ”…" 519)
\Add_symbol{\frakD ğ”‡}(MathFonts.euler "ğ”‡" 520)
\Add_symbol{\frakE ğ”ˆ}(MathFonts.euler "ğ”ˆ" 521)
\Add_symbol{\frakF ğ”‰}(MathFonts.euler "ğ”‰" 522)
\Add_symbol{\frakG ğ”Š}(MathFonts.euler "ğ”Š" 523)
\Add_symbol{\frakJ ğ”}(MathFonts.euler "ğ”" 524)
\Add_symbol{\frakK ğ”}(MathFonts.euler "ğ”" 525)
\Add_symbol{\frakL ğ”}(MathFonts.euler "ğ”" 526)
\Add_symbol{\frakM ğ”}(MathFonts.euler "ğ”" 527)
\Add_symbol{\frakN ğ”‘}(MathFonts.euler "ğ”‘" 528)
\Add_symbol{\frakO ğ”’}(MathFonts.euler "ğ”’" 529)
\Add_symbol{\frakP ğ”“}(MathFonts.euler "ğ”“" 530)
\Add_symbol{\frakQ ğ””}(MathFonts.euler "ğ””" 531)
\Add_symbol{\frakS ğ”–}(MathFonts.euler "ğ”–" 532)
\Add_symbol{\frakT ğ”—}(MathFonts.euler "ğ”—" 533)
\Add_symbol{\frakU ğ”˜}(MathFonts.euler "ğ”˜" 534)
\Add_symbol{\frakV ğ”™}(MathFonts.euler "ğ”™" 535)
\Add_symbol{\frakW ğ”š}(MathFonts.euler "ğ”š" 536)
\Add_symbol{\frakX ğ”›}(MathFonts.euler "ğ”›" 537)
\Add_symbol{\frakY ğ”œ}(MathFonts.euler "ğ”œ" 538)

\Add_symbol{\fraka ğ”}(MathFonts.euler "ğ”" 539)
\Add_symbol{\frakb ğ”Ÿ}(MathFonts.euler "ğ”Ÿ" 540)
\Add_symbol{\frakc ğ” }(MathFonts.euler "ğ” " 541)
\Add_symbol{\frakd ğ”¡}(MathFonts.euler "ğ”¡" 542)
\Add_symbol{\frake ğ”¢}(MathFonts.euler "ğ”¢" 543)
\Add_symbol{\frakf ğ”£}(MathFonts.euler "ğ”£" 544)
\Add_symbol{\frakg ğ”¤}(MathFonts.euler "ğ”¤" 545)
\Add_symbol{\frakh ğ”¥}(MathFonts.euler "ğ”¥" 546)
\Add_symbol{\fraki ğ”¦}(MathFonts.euler "ğ”¦" 547)
\Add_symbol{\frakj ğ”§}(MathFonts.euler "ğ”§" 548)
\Add_symbol{\frakk ğ”¨}(MathFonts.euler "ğ”¨" 549)
\Add_symbol{\frakl ğ”©}(MathFonts.euler "ğ”©" 550)
\Add_symbol{\frakm ğ”ª}(MathFonts.euler "ğ”ª" 551)
\Add_symbol{\frakn ğ”«}(MathFonts.euler "ğ”«" 552)
\Add_symbol{\frako ğ”¬}(MathFonts.euler "ğ”¬" 553)
\Add_symbol{\frakp ğ”­}(MathFonts.euler "ğ”­" 554)
\Add_symbol{\frakq ğ”®}(MathFonts.euler "ğ”®" 555)
\Add_symbol{\frakr ğ”¯}(MathFonts.euler "ğ”¯" 556)
\Add_symbol{\fraks ğ”°}(MathFonts.euler "ğ”°" 557)
\Add_symbol{\frakt ğ”±}(MathFonts.euler "ğ”±" 558)
\Add_symbol{\fraku ğ”²}(MathFonts.euler "ğ”²" 559)
\Add_symbol{\frakv ğ”³}(MathFonts.euler "ğ”³" 560)
\Add_symbol{\frakw ğ”´}(MathFonts.euler "ğ”´" 561)
\Add_symbol{\frakx ğ”µ}(MathFonts.euler "ğ”µ" 562)
\Add_symbol{\fraky ğ”¶}(MathFonts.euler "ğ”¶" 563)
\Add_symbol{\frakz ğ”·}(MathFonts.euler "ğ”·" 564)

=<


=> Other symbols 

(*\Add_symbol{\sharp}(Maths.glyphs "#")*)
\Add_symbol{\sharp â™¯}(MathFonts.asana "â™¯" 1062)
\Add_symbol{\natural â™®}(MathFonts.asana "â™®" 1061)
\Add_symbol{\flat â™­}(MathFonts.asana "â™­" 1060)
\Add_symbol{\infty âˆ}{âˆ}
\Add_symbol{\top âŠ¤}{âŠ¤}
\Add_symbol{\bottom \bot âŠ¥}{âŠ¥}
\Add_symbol{\dtop}(MathFonts.asana "\\dtop" 1626)
\Add_symbol{\dbottom \dbot}(MathFonts.asana "\\dbottom" 1625)
\Add_symbol{\emptyset âˆ…}{âˆ…}
\Add_symbol{â€¦ ... \dots}{â€¦}
\Add_symbol{\wc â€”}(MathFonts.asana "wild card" 382)
\Add_symbol{\heartsuit}( MathFonts.asana "white heartsuit" 1051 )
\Add_symbol{â‹¯ \cdots}{â‹¯}


(* It seems Euler only has a glyph for alef, we'll use Asana-math instead
\Add_symbol{\alef â„µ}{â„µ}
\Add_symbol{\bet â„¶}{â„¶}
\Add_symbol{\gimel â„·}{â„·}
\Add_symbol{\dalet â„¸}{â„¸}
*)

\Add_symbol{\alef â„µ}(MathFonts.asana "â„µ" 533)
\Add_symbol{\bet â„¶}(MathFonts.asana "â„¶" 534)
\Add_symbol{\gimel â„·}(MathFonts.asana "â„·" 535)
\Add_symbol{\dalet â„¸}(MathFonts.asana "â„¸" 536)

\Add_symbol{\$}{$}

\Add_symbol{\ell â„“}{â„“}


=<

=> Black bold letters 

\Add_symbol{\bbA}(MathFonts.ams "bbA" 66)
\Add_symbol{\bbB}(MathFonts.ams "bbB" 67)
\Add_symbol{\bbC â„‚}(MathFonts.ams "â„‚" 68)
\Add_symbol{\bbD}(MathFonts.ams "bbD" 69)
\Add_symbol{\bbE}(MathFonts.ams "bbE" 70)
\Add_symbol{\bbF}(MathFonts.ams "bbF" 71)
\Add_symbol{\bbG}(MathFonts.ams "bbG" 72)
\Add_symbol{\bbH â„}(MathFonts.ams "â„" 73)
\Add_symbol{\bbI}(MathFonts.ams "bbI" 74)
\Add_symbol{\bbJ}(MathFonts.ams "bbJ" 75)
\Add_symbol{\bbK}(MathFonts.ams "bbK" 76)
\Add_symbol{\bbL}(MathFonts.ams "bbL" 77)
\Add_symbol{\bbM}(MathFonts.ams "bbM" 78)
\Add_symbol{\bbN â„•}(MathFonts.ams "â„•" 79)
\Add_symbol{\bbO}(MathFonts.ams "bbO" 80)
\Add_symbol{\bbP â„™}(MathFonts.ams "â„™" 81)
\Add_symbol{\bbQ â„š}(MathFonts.ams "â„š" 82)
\Add_symbol{\bbR â„}(MathFonts.ams "â„" 83)
\Add_symbol{\bbS}(MathFonts.ams "\\bbS" 84)
\Add_symbol{\bbT}(MathFonts.ams "\\bbT" 85)
\Add_symbol{\bbU}(MathFonts.ams "\\bbU" 86)
\Add_symbol{\bbV}(MathFonts.ams "\\bbV" 87)
\Add_symbol{\bbW}(MathFonts.ams "\\bbW" 88)
\Add_symbol{\bbX}(MathFonts.ams "\\bbX" 89)
\Add_symbol{\bbY}(MathFonts.ams "\\bbY" 90)
\Add_symbol{\bbZ â„¤}(MathFonts.ams "â„¤" 91)

=<

=> Operators 

\Add_limits_operator{âˆ‘ \sum}(List.map (fun x -> vkern_percent_under (MathFonts.euler "âˆ‘" x) 0.20) [778;779])
\Add_limits_operator{âˆ \prod}(List.map (fun x -> vkern_percent_under (MathFonts.euler "âˆ" x) 0.20) [780;781])
\Add_limits_operator{âˆ \coprod}(List.map (fun x -> vkern_percent_under (MathFonts.euler "âˆ" x) 0.20) [784;785])
\Add_operator{âˆ« \int}(List.map (MathFonts.euler "âˆ«") [782;783])
\Add_operator{âˆ¬ âˆ«âˆ« \dint}(List.map2 (fun g g' -> vkern_as (MathFonts.euler "âˆ¬" g) (MathFonts.euler "âˆ«" g'))
				        [1823;1822] [782;783])
\Add_operator{âˆ­ âˆ«âˆ«âˆ« \tint}(List.map2 (fun g g' -> vkern_as (MathFonts.euler "âˆ­" g) (MathFonts.euler "âˆ«" g'))
				        [1824;1826] [782;783])
\Add_operator{â¨Œ \qint}(List.map2 (fun g g' -> vkern_as (MathFonts.euler "â¨Œ" g) (MathFonts.euler "âˆ«" g'))
				        [1825;1827] [782;783])
\Add_operator{âˆ® \oint}(List.map2 (fun g g' -> vkern_as (MathFonts.euler "âˆ®" g) (MathFonts.euler "âˆ«" g'))
				        [776;777] [782;783])
\Add_limits_operator{â‹‚ \biginter \bigcap}(List.map (fun x -> vkern_percent_under (MathFonts.euler "â‹‚" x) 0.20) [1761;1766;1768])
\Add_limits_operator{â‹ƒ \bigunion \bigcup}(List.map (fun x -> vkern_percent_under (MathFonts.euler "â‹ƒ" x) 0.20) [1762;1765;1767])
\Add_limits_operator{\bigsquareinter \bigsquarecap}(List.map (MathFonts.asana "\\bigsquareinter") [3233;3234])
\Add_limits_operator{\bigsquareunion \bigsquarecup}(List.map (MathFonts.asana "\\bigsquareunion") [3235;3236])
\Add_limits_operator{\bigvee â‹ \bigsup}(List.map (MathFonts.asana "\\bigvee") [3250;3251])
\Add_limits_operator{\bigwedge â‹€ \biginf}(List.map (MathFonts.asana "\\bigvee") [3248;3249])
\Add_limits_operator{\bigoplus}(List.map (MathFonts.asana "bigoplus") [1391])

=<

=> Combining symbols

\Add_combining{ âƒ— }{\vec}
\Add_combining{ âƒ– }{\cev}
\Add_combining{ Ì… }{\oline}

\Configure_math_macro{\sqrt}{ arity = 1 name = Maths.sqrt }
\Configure_math_macro{\cal}{ arity = 1 name = mathcal }
\Configure_math_macro{\bold}{ arity = 1 name = mathbold }

\Configure_word_macro{\hspace}{ arity = 1 eat_right eat_left}
\Configure_math_macro{\hspace}{ arity = 1 name = mathSpace }

\Configure_paragraph_macro{\item}{ eat_right }
\Configure_paragraph_macro{\tableOfContents}{}

\Configure_word_macro{\label}{ eat_right eat_left }
\Configure_word_macro{\hand}{ eat_right eat_left }
\Configure_word_macro{\sourcePosition}{ arity = 1 give_position }

\Configure_environment{genumerate}{ arg_1 = genumerate }

\Configure_word_macro{\diagram}{ is_identity 
                                 arg_1 = diagram 
                                 arg_1 no_parenthesis }

\Configure_word_macro{\hfill}{ eat_right
                               eat_left }


=<

\Save_Grammar

